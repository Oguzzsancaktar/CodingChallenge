## Coding Challenge - Full Project Documentation

### Overview

Monorepo with:

- Backend: Express + TypeScript (apps/backend)
- Frontend: React + Vite + TypeScript (apps/frontend)
- Shared types: (packages/shared)

### Running the project

#### At the root of the project simply run "make" command for all options

Local (no Docker):

```
make dev         # runs backend + frontend concurrently
```

Docker (recommended for consistency):

```
make up          # starts backend + frontend in containers with hot reload
make logs        # tails all service logs
```

URLs:

- API: http://localhost:4000
- Web: http://localhost:5173

### Makefile commands

- dev: run both apps locally
- start: build and start backend locally (production-like)
- test-local: run tests locally (backend and frontend)
- typecheck: type-check monorepo
- lint: lint frontend
- up/down/logs/backend-shell/frontend-shell/test/build/clean: Docker workflow helpers

### Environment

- Backend port: 4000 (env `PORT`)
- CORS origin: `ALLOWED_ORIGIN` (defaults to http://localhost:5173)
- JWT secret: `AUTH_JWT_SECRET` (default dev value; replace in production)

In Docker, frontend uses `VITE_BACKEND_ORIGIN` to proxy `/api` to backend.

### API and Swagger

- Base path: `/api/v1`
- Health: `GET /api/v1/health`
- Swagger UI: `GET /api-docs`
- OpenAPI JSON: `GET /openapi.json`

Swagger usage:

1. Start the project (local or Docker)
2. Open http://localhost:4000/api-docs in your browser
3. Explore and try endpoints directly from the UI

### Authentication

- Simple JWT-based auth via `Authorization: Bearer <token>`
- Token generated by backend on login endpoint

### Features

- Auth: login, middleware-protected routes
- Profile: get/update profile
- GitHub: list repositories (with caching)
- Rate limiting, Helmet, CORS, Pino logging

### Project structure

```
apps/
  backend/
    src/
      config/env.ts
      app.ts
      index.ts
      routes/
      controllers/
      services/
      middleware/
  frontend/
    src/
      views/
      components/
      services/
packages/
  shared/
    src/
      types/
```

### Testing

- Backend: Vitest (`npm run test -w @codingchallenge/backend`)
- Frontend: Vitest + Testing Library (`npm run test -w frontend`)
- Make shortcuts:

```
make test-local   # local
make test         # inside Docker
```

### Troubleshooting

- If file changes donâ€™t reload in Docker on Linux, we enabled polling for Vite (`CHOKIDAR_USEPOLLING=1`).
- If ports are in use, stop existing services or change ports via env vars.

### Production builds

- Local build: `npm run build -w @codingchallenge/backend && npm run build -w frontend`
- Or: `make build` (inside Docker)
